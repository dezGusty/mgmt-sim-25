<div class="min-h-screen bg-gray-50">
  <custom-navbar></custom-navbar>

  <div *ngIf="showSuccessMessage" 
       class="fixed top-20 right-4 z-70 bg-green-500 text-white px-6 py-4 rounded-lg shadow-lg animate-fade-in flex items-center gap-3">
    <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
    </svg>
    
    <span class="font-medium">{{ successMessage }}</span>
    
    <button (click)="closeSuccessMessage()" 
            class="ml-4 text-white hover:text-gray-200 font-bold text-lg leading-none">
      Ã—
    </button>
  </div>

  <!-- Gradient container -->
  <div class="w-full h-52 bg-gradient-to-r from-[#88F8BF] via-[#7EE3DB] to-[#7EE3DB] shadow-lg relative overflow-hidden">
    <div class="max-w-7xl mx-auto px-6 h-full flex items-center justify-between">
      <div class="text-white max-w-md">
        <h2 class="text-4xl font-semibold text-[#020126]">Ready to take that well-deserved break?</h2>
      </div>

      <div class="hidden sm:block w-60 h-52 relative">
      <!-- Plane icon -->
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" class="w-36 h-36 absolute right-24 bottom-6 text-slate-900 opacity-65 transform -rotate-12">
        <path fill="currentColor" d="M482.3 192c34.2 0 93.7 29 93.7 64c0 36-59.5 64-93.7 64l-116.6 0L265.2 495.9c-5.7 10-16.3 16.1-27.8 16.1l-56.2 0c-10.6 0-18.3-10.2-15.4-20.4l49-171.6L112 320 68.8 377.6c-3 4-7.8 6.4-12.8 6.4l-42 0c-7.8 0-14-6.3-14-14c0-1.3 .2-2.6 .5-3.9L32 256 .5 145.9c-.4-1.3-.5-2.6-.5-3.9c0-7.8 6.3-14 14-14l42 0c5 0 9.8 2.4 12.8 6.4L112 192l102.9 0-49-171.6C162.9 10.2 170.6 0 181.2 0l56.2 0c11.5 0 22.1 6.2 27.8 16.1L365.7 192l116.6 0z"/>
      </svg>
    </div>
    </div>
  </div>


  <div class="max-w-7xl mx-auto p-6">
    <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8">
      <div>
        <h2 class="text-3xl font-bold text-gray-900 flex items-center gap-2">
          
          User Dashboard
        </h2>
        <p class="text-gray-600 mt-1">
          Submit and track your leave requests
        </p>
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      <!-- Submit request Card -->
      <div class="bg-white rounded-lg shadow p-6">
        <h3 class="text-lg font-semibold text-gray-900 mb-2">Submit Request</h3>
        <p class="text-gray-600 mb-4">Create a new leave request</p>
        <button 
          class="bg-gradient-to-r from-[#7EE3DB] to-[#88F8BF] hover:bg-gradient-to-t border border-slate-500 text-slate-900 font-semibold px-4 py-2 rounded transition-all duration-200 transform hover:scale-105" 
          (click)="toggleRequestForm()"
        >
          New Request
        </button>
      </div>

      <!-- My Requests Card -->
      <div class="bg-white rounded-lg shadow p-6">
        <h3 class="text-lg font-semibold text-gray-900 mb-2">My Requests</h3>
        <p class="text-gray-600 mb-4">View your submitted requests</p>
        <button 
          class="bg-gradient-to-r from-[#7EE3DB] to-[#88F8BF] hover:bg-gradient-to-t border border-slate-500 text-slate-900 font-semibold px-4 py-2 rounded transition-all duration-200 transform hover:scale-105" 
          (click)="toggleRequestsList()"
        >
          View Requests
        </button>
      </div>

      <!-- Leave Balance Card -->
      <div class="bg-white rounded-lg shadow p-6">
        <h3 class="text-lg font-semibold text-gray-900 mb-2">Leave Balance</h3>
        <p class="text-gray-600 mb-4">Check your remaining days</p>
        <button 
          class="bg-gradient-to-r from-[#7EE3DB] to-[#88F8BF] hover:bg-gradient-to-t border border-slate-500 text-slate-900 font-semibold px-4 py-2 rounded transition-all duration-200 transform hover:scale-105" 
          (click)="toggleLeaveBalance()">
          View Balance
        </button>
      </div>
    </div>
    
    <!-- Leave request form that appears when showRequestForm is true -->
    <app-user-request-form
      *ngIf="showRequestForm"
      (close)="toggleRequestForm()"
      (requestSubmitted)="onRequestSubmitted()"

    ></app-user-request-form>

    <!-- Requests list that appears when showRequestsList is true -->
    <app-user-requests-list
      *ngIf="showRequestsList"
      (close)="toggleRequestsList()"
      
    ></app-user-requests-list>

    <!-- User leave balance component that appears when showLeaveBalance is true -->
    <app-user-leave-balance
      *ngIf="showLeaveBalance"
      (close)="toggleLeaveBalance()"
      
    ></app-user-leave-balance>
  </div>
</div>
