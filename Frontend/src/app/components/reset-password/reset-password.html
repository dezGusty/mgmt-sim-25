<div
  class="min-h-screen bg-gradient-to-r from-[#88F8BF] via-[#7EE3DB] to-[#7EE3DB] flex items-center justify-center"
>
  <!-- Principal container -->
  <div
    class="w-full max-w-5xl flex flex-col lg:flex-row rounded-xl shadow-2xl overflow-hidden"
  >
    <!-- Left Section - Company Name -->
    <div
      class="w-full lg:w-2/5 bg-[#020126] text-white p-12 flex flex-col justify-center items-center relative overflow-hidden"
    >
      <!-- Background patterns -->
      <div class="absolute top-0 left-0 w-full h-full opacity-10">
        <div
          class="absolute top-10 left-10 w-40 h-40 rounded-full bg-[#7EE3DB]"
        ></div>
        <div
          class="absolute bottom-10 right-10 w-60 h-60 rounded-full bg-[#88F8BF]"
        ></div>
      </div>

      <!-- Company Details -->
      <div class="relative z-10 text-center">
        <h1 class="text-4xl font-bold mb-4">SIEMENS</h1>
        <div class="h-1 w-16 bg-[#7EE3DB] mx-auto mb-6"></div>
        <h2 class="text-2xl font-light mb-8">Leave Management</h2>
        <p class="text-gray-300">Manage your time off efficiently</p>
      </div>
    </div>

    <!-- Right Section - Reset Password Form -->
    <div class="w-full lg:w-3/5 bg-white p-8 md:p-12">
      <div class="max-w-md mx-auto">
        <div class="text-center mb-8">
          <h1 class="text-3xl font-bold text-gray-900">
            {{ step === "email" ? "Reset Password" : "Enter Reset Code" }}
          </h1>
        </div>

        <!-- Email Step -->
        <form
          *ngIf="step === 'email'"
          (ngSubmit)="sendResetCode()"
          class="space-y-6"
        >
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2"
              >Email Address</label
            >
            <input
              type="email"
              [(ngModel)]="email"
              name="email"
              required
              class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              placeholder="Enter your email address"
            />
          </div>

          <button
            type="submit"
            [disabled]="loading || !email"
            class="w-full bg-gradient-to-r from-[#7EE3DB] to-[#88F8BF] rounded hover:bg-gradient-to-t border border-slate-500 text-slate-900 font-semibold transition-all duration-200 transform hover:scale-105 py-3 px-4 disabled:opacity-50"
          >
            {{ loading ? "Sending..." : "Send Reset Code" }}
          </button>
        </form>

        <!-- Reset Code Step -->
        <form
          *ngIf="step === 'reset'"
          (ngSubmit)="resetPassword()"
          class="space-y-6"
        >
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2"
              >Verification Code</label
            >
            <input
              type="text"
              [(ngModel)]="verificationCode"
              name="verificationCode"
              maxlength="6"
              pattern="[A-Z0-9]{6}"
              style="text-transform: uppercase; letter-spacing: 20px"
              class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-center text-2xl font-bold tracking-widest bg-gray-50"
              placeholder="------"
            />
            <p class="text-sm text-gray-500 mt-2 text-center">
              Enter the 6-character verification code from your email
            </p>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2"
              >New Password</label
            >
            <input
              type="password"
              [(ngModel)]="newPassword"
              name="newPassword"
              required
              class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
              placeholder="Enter new password"
            />
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2"
              >Confirm New Password</label
            >
            <input
              type="password"
              [(ngModel)]="confirmPassword"
              name="confirmPassword"
              required
              class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
              placeholder="Confirm new password"
            />
          </div>

          <button
            type="submit"
            [disabled]="
              loading || !verificationCode || !newPassword || !confirmPassword
            "
            class="w-full bg-gradient-to-r from-[#7EE3DB] to-[#88F8BF] rounded hover:bg-gradient-to-t border border-slate-500 text-slate-900 font-semibold transition-all duration-200 transform hover:scale-105 py-3 px-4 disabled:opacity-50"
          >
            {{ loading ? "Resetting..." : "Reset Password" }}
          </button>
        </form>

        <!-- Messages -->
        <div
          *ngIf="message"
          class="mt-4 p-3 bg-green-100 text-green-700 rounded-lg"
        >
          {{ message }}
        </div>

        <div *ngIf="error" class="mt-4 p-3 bg-red-100 text-red-700 rounded-lg">
          {{ error }}
        </div>

        <!-- Back to login -->
        <div class="mt-8 text-center">
          <button
            (click)="goBack()"
            class="flex items-center gap-2 text-slate-700 hover:text-[#7EE3DB] font-medium transition-all duration-300 group mx-auto"
          >
            <div
              class="rounded-full bg-slate-100 p-1.5 group-hover:bg-[#e1f9f5] transition-colors"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5 transform transition-transform duration-300 group-hover:-translate-x-1"
                viewBox="0 0 20 20"
                fill="currentColor"
              >
                <path
                  fill-rule="evenodd"
                  d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z"
                  clip-rule="evenodd"
                />
              </svg>
            </div>
            <span>{{ step === "reset" ? "Back" : "Back to Login" }}</span>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
