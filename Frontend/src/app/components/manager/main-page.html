<main class="min-h-screen bg-gray-50">
  <custom-navbar></custom-navbar>

  <div class="p-6 container mx-auto">
    <div class="flex flex-wrap items-center justify-between mb-6">
      <div class="flex gap-2" *ngIf="viewMode !== 'calendar'">
        <button
          class="flex items-center gap-1 px-3 py-1 rounded font-medium text-sm transition-all duration-200 transform hover:scale-105"
          [ngClass]="{
            'bg-blue-600 text-white': currentFilter === 'All',
            'bg-blue-100 text-blue-800 border border-blue-200':
              currentFilter !== 'All'
          }"
          (click)="setFilter('All')"
        >
          All
        </button>
        <button
          class="flex items-center gap-1 px-3 py-1 rounded font-medium text-sm transition-all duration-200 transform hover:scale-105"
          [ngClass]="{
            'bg-yellow-600 text-white': currentFilter === 'Pending',
            'bg-yellow-100 text-yellow-800 border border-yellow-200':
              currentFilter !== 'Pending'
          }"
          (click)="setFilter('Pending')"
        >
          Pending
        </button>
        <button
          class="flex items-center gap-1 px-3 py-1 rounded font-medium text-sm transition-all duration-200 transform hover:scale-105"
          [ngClass]="{
            'bg-green-600 text-white': currentFilter === 'Approved',
            'bg-green-100 text-green-800 border border-green-200':
              currentFilter !== 'Approved'
          }"
          (click)="setFilter('Approved')"
        >
          Approved
        </button>
        <button
          class="flex items-center gap-1 px-3 py-1 rounded font-medium text-sm transition-all duration-200 transform hover:scale-105"
          [ngClass]="{
            'bg-red-600 text-white': currentFilter === 'Rejected',
            'bg-red-100 text-red-800 border border-red-200':
              currentFilter !== 'Rejected'
          }"
          (click)="setFilter('Rejected')"
        >
          Rejected
        </button>
      </div>

      <div class="flex gap-2 ml-auto">
        <button
          class="bg-[#20B486] hover:bg-[#1a9e75] shadow-md text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:cursor-pointer transition-all duration-200 transform hover:scale-105 font-medium"
          (click)="showAddRequestForm = true"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="currentColor"
            class="w-5 h-5"
          >
            <path
              fill-rule="evenodd"
              d="M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z"
              clip-rule="evenodd"
            />
          </svg>
          Add New Request
        </button>
        <button
          class="px-3 py-2 rounded font-medium text-sm transition-all duration-200 transform hover:scale-105"
          [ngClass]="{
            'bg-blue-600 text-white': viewMode === 'card',
            'bg-gray-200 text-gray-700': viewMode !== 'card'
          }"
          (click)="setViewMode('card')"
        >
          <svg
            class="w-4 h-4 inline mr-1"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"
            ></path>
          </svg>
          Cards
        </button>
        <button
          class="px-3 py-2 rounded font-medium text-sm transition-all duration-200 transform hover:scale-105"
          [ngClass]="{
            'bg-blue-600 text-white': viewMode === 'table',
            'bg-gray-200 text-gray-700': viewMode !== 'table'
          }"
          (click)="setViewMode('table')"
        >
          <svg
            class="w-4 h-4 inline mr-1"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M3 10h18M3 6h18m-9 8h9m-9 4h9m-9-8h9m-9 4h9"
            ></path>
          </svg>
          Table
        </button>
        <button
          class="px-3 py-2 rounded font-medium text-sm transition-all duration-200 transform hover:scale-105"
          [ngClass]="{
            'bg-blue-600 text-white': viewMode === 'calendar',
            'bg-gray-200 text-gray-700': viewMode !== 'calendar'
          }"
          (click)="setViewMode('calendar')"
        >
          <svg
            class="w-4 h-4 inline mr-1"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"
            ></path>
          </svg>
          Calendar
        </button>
      </div>
    </div>

    <div class="mb-6" *ngIf="showAddRequestForm">
      <app-add-request-form
        (close)="showAddRequestForm = false"
        (requestAdded)="onRequestAdded()"
      />
    </div>

    <app-add-requests
      #addRequestsRef
      [filter]="currentFilter"
      [viewMode]="viewMode"
      (statsUpdated)="onStatsUpdated($event)"
    />
  </div>
</main>
