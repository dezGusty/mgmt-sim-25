<main class="min-h-screen bg-gray-50">
	<custom-navbar></custom-navbar>

	<div class="max-w-7xl mx-auto p-6">
		<!-- Modern Page Header -->
		<div class="mb-8">
			<div class="flex items-center gap-4 mb-4">
				<div class="w-12 h-12 bg-gradient-to-br from-emerald-100 to-cyan-100 rounded-xl flex items-center justify-center">
					<svg class="w-6 h-6 text-cyan-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
					</svg>
				</div>
				<div>
					<h1 class="text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent">HR Dashboard</h1>
					<p class="text-gray-500 mt-1">Manage employee vacation balances and public holidays</p>
				</div>
			</div>
		</div>

		<!-- Modern Navigation Tabs -->
		<div class="flex flex-wrap gap-2 mb-8">
			<button
				class="flex items-center gap-3 px-6 py-3 rounded-xl font-medium text-sm transition-all duration-200 transform hover:scale-105 shadow-sm hover:shadow-md"
				[class]="activeTab === 'vacation' ? 'bg-gradient-to-r from-emerald-500 to-cyan-600 text-white shadow-lg' : 'bg-white text-gray-700 hover:bg-gradient-to-r hover:from-gray-50 hover:to-gray-100 border border-gray-200'"
				(click)="setActiveTab('vacation')">
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5">
					<path fill-rule="evenodd" d="M7.5 6a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM3.751 20.105a8.25 8.25 0 0116.498 0 .75.75 0 01-.437.695A18.683 18.683 0 0112 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 01-.437-.695z" clip-rule="evenodd" />
				</svg>
				Employee Vacation Overview
			</button>

			<button
				class="flex items-center gap-3 px-6 py-3 rounded-xl font-medium text-sm transition-all duration-200 transform hover:scale-105 shadow-sm hover:shadow-md"
				[class]="activeTab === 'holidays' ? 'bg-gradient-to-r from-emerald-500 to-cyan-600 text-white shadow-lg' : 'bg-white text-gray-700 hover:bg-gradient-to-r hover:from-gray-50 hover:to-gray-100 border border-gray-200'"
				(click)="setActiveTab('holidays')">
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5">
					<path fill-rule="evenodd" d="M6.75 2.25A.75.75 0 017.5 3v1.5h9V3A.75.75 0 0118 3v1.5h.75a3 3 0 013 3v11.25a3 3 0 01-3 3H5.25a3 3 0 01-3-3V7.5a3 3 0 013-3H6V3a.75.75 0 01.75-.75zm13.5 9a1.5 1.5 0 00-1.5-1.5H5.25a1.5 1.5 0 00-1.5 1.5v7.5a1.5 1.5 0 001.5 1.5h13.5a1.5 1.5 0 001.5-1.5v-7.5z" clip-rule="evenodd" />
				</svg>
				Public Holidays Management
			</button>

			<button
				class="flex items-center gap-3 px-6 py-3 rounded-xl font-medium text-sm transition-all duration-200 transform hover:scale-105 shadow-sm hover:shadow-md"
				[class]="activeTab === 'weekends' ? 'bg-gradient-to-r from-emerald-500 to-cyan-600 text-white shadow-lg' : 'bg-white text-gray-700 hover:bg-gradient-to-r hover:from-gray-50 hover:to-gray-100 border border-gray-200'"
				(click)="setActiveTab('weekends')">
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5">
					<path fill-rule="evenodd" d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zM12.75 6a.75.75 0 00-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 000-1.5h-3.75V6z" clip-rule="evenodd" />
				</svg>
				Weekend Configuration
			</button>
		</div>

		<!-- Content based on active tab -->
		<div class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden">
			
			<!-- Employee Vacation Overview Tab -->
			<div *ngIf="activeTab === 'vacation'" class="p-6">
			<div class="flex items-center justify-between mb-6">
				<div class="flex items-center gap-4">
					<div class="w-12 h-12 bg-gradient-to-br from-emerald-100 to-cyan-100 rounded-xl flex items-center justify-center">
						<svg class="w-6 h-6 text-cyan-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7.5 6a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM3.751 20.105a8.25 8.25 0 0116.498 0 .75.75 0 01-.437.695A18.683 18.683 0 0112 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 01-.437-.695z"></path>
						</svg>
					</div>
					<div>
						<h3 class="text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent">
							Employee Vacation Overview
						</h3>
						<p class="text-sm text-gray-500 mt-0.5">Manage employee leave balances and vacation days</p>
					</div>
				</div>
				
				<!-- Quick Stats Card -->
				<div class="hidden lg:flex items-center gap-6 bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl p-4">
					<div class="text-center">
						<div class="text-xl font-bold text-emerald-600">{{ employeeCount }}</div>
						<div class="text-xs text-gray-500 uppercase tracking-wider">Employees</div>
					</div>
					<div class="w-px h-8 bg-gray-300"></div>
					<div class="text-center">
						<div class="text-xl font-bold text-blue-600">{{ totalCount }}</div>
						<div class="text-xs text-gray-500 uppercase tracking-wider">Total Records</div>
					</div>
				</div>
			</div>

			<!-- Modern Table Container -->
			<div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
				
				<div class="overflow-x-auto relative">
					
					<table class="min-w-full divide-y divide-gray-200">
						<thead class="bg-gradient-to-r from-gray-50 to-gray-100">
							<tr>
								<th class="px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider">#</th>
								<th class="px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider">
									<div class="flex items-center gap-2">
										<svg class="w-4 h-4 text-emerald-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
											<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
										</svg>
										Name
									</div>
								</th>
								<th class="px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider">
									<div class="flex items-center gap-2">
										<svg class="w-4 h-4 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
											<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
										</svg>
										Department
									</div>
								</th>
								<th class="px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider">
									<div class="flex items-center gap-2">
										<svg class="w-4 h-4 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
											<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
										</svg>
										Total Vacation Days
									</div>
								</th>
								<th class="px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider">
									<div class="flex items-center gap-2">
										<svg class="w-4 h-4 text-amber-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
											<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
										</svg>
										Used Vacation Days
									</div>
								</th>
								<th class="px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider">
									<div class="flex items-center gap-2">
										<svg class="w-4 h-4 text-emerald-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
											<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
										</svg>
										Remaining Days
									</div>
								</th>
								<th class="px-6 py-4 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider">Actions</th>
							</tr>
						</thead>
						<tbody class="bg-white divide-y divide-gray-100">
							<tr *ngFor="let r of records; let i = index; trackBy: trackByIndex" 
								class="hover:bg-gradient-to-r hover:from-gray-50 hover:to-gray-100 transition-all duration-200">
								<td class="px-6 py-4 text-sm font-medium text-gray-900">
									<div class="flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full">
										{{ getDisplayId(i) }}
									</div>
								</td>
								<td class="px-6 py-4 text-sm text-gray-900">
									<div class="flex items-center gap-3">
										<div class="w-10 h-10 bg-gradient-to-br from-emerald-100 to-cyan-100 rounded-full flex items-center justify-center">
											<span class="text-sm font-semibold text-cyan-700">
												{{ getUserInitials(r.name) }}
											</span>
										</div>
										<div>
											<div class="font-medium text-gray-900" *ngIf="r.id !== -1">{{ r.name }}</div>
											<div *ngIf="r.id === -1" class="h-4 bg-gray-200 rounded w-32 animate-pulse"></div>
										</div>
									</div>
								</td>

								<td class="px-6 py-4 text-sm text-gray-700">
									<div *ngIf="r.id !== -1" class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
										{{ r.department }}
									</div>
									<div *ngIf="r.id === -1" class="h-6 bg-gray-200 rounded-full w-20 animate-pulse"></div>
								</td>

								<td class="px-6 py-4 text-sm text-gray-700">
									<div *ngIf="r.id !== -1 && editingIndex !== i" class="inline-flex items-center px-3 py-1.5 rounded-lg bg-green-50 text-green-700 font-medium">
										{{ r.totalVacationDays }} days
									</div>
									<div *ngIf="r.id === -1" class="h-6 bg-gray-200 rounded w-16 animate-pulse"></div>

									<div *ngIf="r.id !== -1 && editingIndex === i" class="flex items-center gap-2">
										<input
											type="number"
											[(ngModel)]="editModel!.totalVacationDays"
											min="0"
											class="w-20 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"
											placeholder="Days"
										/>
										<span class="text-xs text-gray-500">days</span>
									</div>
								</td>

								<td class="px-6 py-4 text-sm text-gray-700">
									<div *ngIf="r.id !== -1" class="inline-flex items-center px-3 py-1.5 rounded-lg bg-amber-50 text-amber-700 font-medium">
										{{ r.usedVacationDays }} days
									</div>
									<div *ngIf="r.id === -1" class="h-6 bg-gray-200 rounded w-16 animate-pulse"></div>
								</td>

								<td class="px-6 py-4 text-sm text-gray-700">
									<div *ngIf="r.id !== -1 && editingIndex !== i" class="inline-flex items-center px-3 py-1.5 rounded-lg bg-emerald-50 text-emerald-700 font-medium">
										{{ r.remainingVacationDays }} days
									</div>
									<div *ngIf="r.id !== -1 && editingIndex === i" class="inline-flex items-center px-3 py-1.5 rounded-lg bg-emerald-50 text-emerald-700 font-medium">
										{{ (editModel!.totalVacationDays ?? r.totalVacationDays) - r.usedVacationDays }} days
									</div>
									<div *ngIf="r.id === -1" class="h-6 bg-gray-200 rounded w-16 animate-pulse"></div>
								</td>

								<td class="px-6 py-4 text-sm text-right">
									<div *ngIf="r.id !== -1 && editingIndex !== i" class="flex justify-end">
										<button 
											class="inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-emerald-500 to-cyan-600 text-white text-sm font-medium hover:from-emerald-600 hover:to-cyan-700 transition-all duration-200 transform hover:scale-105 shadow-sm hover:shadow-md" 
											(click)="startEdit(i)"
										>
											<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
												<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
											</svg>
											Edit
										</button>
									</div>

									<div *ngIf="r.id !== -1 && editingIndex === i" class="flex justify-end gap-2">
										<button 
											class="inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-emerald-500 to-green-600 text-white text-sm font-medium hover:from-emerald-600 hover:to-green-700 transition-all duration-200 transform hover:scale-105 shadow-sm hover:shadow-md" 
											(click)="saveEdit(i)"
										>
											<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
												<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
											</svg>
											Save
										</button>
										<button 
											class="inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-gray-500 to-gray-600 text-white text-sm font-medium hover:from-gray-600 hover:to-gray-700 transition-all duration-200 transform hover:scale-105 shadow-sm hover:shadow-md" 
											(click)="cancelEdit()"
										>
											<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
												<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
											</svg>
											Cancel
										</button>
									</div>

									<div *ngIf="r.id === -1" class="flex justify-end">
										<div class="h-8 bg-gray-200 rounded w-16 animate-pulse"></div>
									</div>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>

			<div class="mt-6 flex items-center justify-between">
					<div class="text-sm text-gray-600">Showing {{ records.length }} records</div>

					<div class="flex items-center gap-3">
						<div class="flex items-center gap-2 bg-white rounded-md p-1 shadow-sm">
							<button
								class="flex items-center gap-1 px-3 py-1 rounded font-medium text-sm transition-all duration-200 transform hover:scale-105"
								[class]="currentPage <= 1 ? 'bg-gray-200 text-gray-400 cursor-not-allowed' : 'bg-gray-100 hover:bg-gray-200'"
								[disabled]="currentPage <= 1"
								(click)="prevPage()"
							>
								Previous
							</button>

							<div class="text-sm px-2 flex items-center gap-2">
								Page {{ currentPage }}
							</div>

							<button
								class="flex items-center gap-1 px-3 py-1 rounded font-medium text-sm transition-all duration-200 transform hover:scale-105 bg-gray-100 hover:bg-gray-200"
								(click)="nextPage()"
							>
								Next
							</button>
						</div>
					</div>
				</div>

			</div>

			<!-- Public Holidays Management Tab -->
			<div *ngIf="activeTab === 'holidays'" class="p-6">
				<!-- Modern Header Section -->
				<div class="flex items-center justify-between mb-6">
					<div class="flex items-center gap-4">
						<div class="w-12 h-12 bg-gradient-to-br from-purple-100 to-pink-100 rounded-xl flex items-center justify-center">
							<svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
							</svg>
						</div>
						<div>
							<h3 class="text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent">
								Public Holidays Management
							</h3>
							<p class="text-sm text-gray-500 mt-0.5">Manage public holidays and special dates</p>
						</div>
					</div>
					
					<!-- Modern View Toggle -->
					<div class="flex items-center gap-4">
						<div class="flex bg-white rounded-xl border border-gray-200 p-1 shadow-sm">
							<button 
								class="flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200"
								[class]="currentView === 'table' ? 'bg-gradient-to-r from-emerald-500 to-cyan-600 text-white shadow-md' : 'text-gray-600 hover:text-gray-900 hover:bg-gray-50'"
								(click)="switchToTableView()"
							>
								<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M3 6h18m-9 8h9" />
								</svg>
								Table
							</button>
							<button 
								class="flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200"
								[class]="currentView === 'calendar' ? 'bg-gradient-to-r from-emerald-500 to-cyan-600 text-white shadow-md' : 'text-gray-600 hover:text-gray-900 hover:bg-gray-50'"
								(click)="switchToCalendarView()"
							>
								<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
								</svg>
								Calendar
							</button>
						</div>
					</div>
				</div>

				<!-- Modern Action Buttons -->
				<div class="flex flex-wrap gap-3 mb-6">
					<button 
						class="inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-blue-600 to-cyan-600 text-white text-sm font-medium hover:from-blue-600 hover:to-blue-700 transition-all duration-300 transform hover:scale-105 shadow-sm hover:shadow-lg hover:shadow-blue-200/50 opacity-90 hover:opacity-100"
						(click)="downloadTemplate()"
					>
						<svg class="w-4 h-4 transition-transform duration-300 hover:scale-110 hover:-rotate-12" fill="none" stroke="currentColor" viewBox="0 0 24 24">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
						</svg>
						Download Template
					</button>
					<button 
						class="inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-orange-500 to-orange-300 text-white text-sm font-medium hover:from-orange-700 hover:to-orange-300 transition-all duration-300 transform hover:scale-105 shadow-sm hover:shadow-lg hover:shadow-orange-200/50 opacity-90 hover:opacity-100"
						(click)="triggerImportFile()"
					>
						<svg class="w-4 h-4 transition-transform duration-300 hover:scale-110 hover:rotate-12" fill="none" stroke="currentColor" viewBox="0 0 24 24">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
						</svg>
						Import CSV
					</button>
					<button 
						class="inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-indigo-400 to-rose-300 text-white text-sm font-medium hover:from-indigo-500 hover:to-rose-500 transition-all duration-300 transform hover:scale-105 shadow-sm hover:shadow-lg hover:shadow-cyan-200/50 opacity-90 hover:opacity-100"
						(click)="importFromAPI()"
					>
						<svg class="w-4 h-4 transition-transform duration-300 hover:scale-110 hover:rotate-12" fill="none" stroke="currentColor" viewBox="0 0 24 24">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"></path>
						</svg>
						Import API
					</button>
					<button 
						class="inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-green-500 to-cyan-700 text-white text-sm font-medium hover:from-emerald-600 hover:to-cyan-700 transition-all duration-300 transform hover:scale-105 shadow-sm hover:shadow-lg hover:shadow-green-200/50 opacity-90 hover:opacity-100"
						(click)="addNewHoliday()"
					>
						<svg class="w-4 h-4 transition-transform duration-300 hover:scale-110 hover:rotate-90" fill="none" stroke="currentColor" viewBox="0 0 24 24">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
						</svg>
						Add Holiday
					</button>
				</div>

				<!-- Modern Table View -->
				<div *ngIf="currentView === 'table'" class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
					<div class="overflow-x-auto">
						<table class="min-w-full divide-y divide-gray-200">
							<thead class="bg-gradient-to-r from-gray-50 to-gray-100">
								<tr>
									<th class="px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider">
										<div class="flex items-center gap-2">
											<svg class="w-4 h-4 text-purple-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
												<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>
											</svg>
											Holiday Name
										</div>
									</th>
									<th class="px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider">
										<div class="flex items-center gap-2">
											<svg class="w-4 h-4 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
												<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
											</svg>
											Date
										</div>
									</th>
									<th class="px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider">
										<div class="flex items-center gap-2">
											<svg class="w-4 h-4 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
												<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
											</svg>
											Recurring
										</div>
									</th>
									<th class="px-6 py-4 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider">Actions</th>
								</tr>
							</thead>
							<tbody class="bg-white divide-y divide-gray-100">
								<tr *ngFor="let holiday of getDisplayedHolidays(); let i = index; trackBy: trackByHolidayIndex" 
									class="hover:bg-gradient-to-r hover:from-gray-50 hover:to-gray-100 transition-all duration-200">
									<!-- Name Column -->
									<td class="px-6 py-4 text-sm text-gray-900">
										<div *ngIf="editingHolidayIndex !== i" class="flex items-center gap-3">
											<div class="w-10 h-10 bg-gradient-to-br from-purple-100 to-pink-100 rounded-full flex items-center justify-center">
												<svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
													<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>
												</svg>
											</div>
											<div class="font-medium text-gray-900">{{ holiday.name }}</div>
										</div>
										<div *ngIf="editingHolidayIndex === i">
											<input
												type="text"
												[(ngModel)]="editHolidayModel!.name"
												placeholder="Holiday name"
												class="w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500"
												[class.border-red-500]="editHolidayModel!.name !== undefined && editHolidayModel!.name.trim().length === 0"
												[class.border-gray-300]="!editHolidayModel!.name || editHolidayModel!.name.trim().length > 0"
												required
											/>
										</div>
									</td>

									<!-- Date Column -->
									<td class="px-6 py-4 text-sm text-gray-700">
										<div *ngIf="editingHolidayIndex !== i" class="inline-flex items-center px-3 py-1.5 rounded-lg bg-blue-50 text-blue-700 font-medium">
											<svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
												<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
											</svg>
											{{ holiday.date | date:'mediumDate' }}
										</div>
										<div *ngIf="editingHolidayIndex === i">
											<input
												type="date"
												[(ngModel)]="editHolidayModel!.date"
												class="px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500"
												[class.border-red-500]="editHolidayModel!.date !== undefined && editHolidayModel!.date.trim().length === 0"
												[class.border-gray-300]="!editHolidayModel!.date || editHolidayModel!.date.trim().length > 0"
												required
											/>
										</div>
									</td>

									<!-- Recurring Column -->
									<td class="px-6 py-4 text-sm text-gray-700">
										<div *ngIf="editingHolidayIndex !== i">
											<span class="inline-flex items-center px-3 py-1.5 rounded-lg text-xs font-medium"
												[ngClass]="holiday.isRecurring ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'">
												<svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
													<path *ngIf="holiday.isRecurring" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
													<path *ngIf="!holiday.isRecurring" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636M5.636 18.364l12.728-12.728"></path>
												</svg>
												{{ holiday.isRecurring ? 'Recurring' : 'One-time' }}
											</span>
										</div>
										<div *ngIf="editingHolidayIndex === i" class="flex items-center gap-2">
											<input
												type="checkbox"
												[(ngModel)]="editHolidayModel!.isRecurring"
												class="w-4 h-4 rounded border-gray-300 text-purple-600 focus:ring-purple-500"
											/>
											<span class="text-sm text-gray-600">Repeats annually</span>
										</div>
									</td>

									<td class="px-6 py-4 text-sm text-right">
										<div *ngIf="editingHolidayIndex !== i" class="flex justify-end gap-2 opacity-80 hover:opacity-100 transition-opacity duration-300">
											<button 
												class="inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-cyan-500 to-blue-600 text-white text-sm font-medium hover:from-gray-500 hover:to-blue-600 transition-all duration-300 transform hover:scale-105 shadow-sm hover:shadow-md hover:shadow-blue-200" 
												(click)="startEditHoliday(i)"
											>
												<svg class="w-4 h-4 transition-transform duration-300 group-hover:rotate-12" fill="none" stroke="currentColor" viewBox="0 0 24 24">
													<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
												</svg>
												Edit
											</button>
											<button 
												class="inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-red-500 to-red-600 text-white text-sm font-medium hover:from-red-600 hover:to-red-900 transition-all duration-300 transform hover:scale-105 shadow-sm hover:shadow-md hover:shadow-red-200" 
												(click)="deleteHoliday(i)"
											>
												<svg class="w-4 h-4 transition-transform duration-300 hover:scale-110 hover:rotate-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
													<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
												</svg>
												Delete
											</button>
										</div>

										<div *ngIf="editingHolidayIndex === i" class="flex justify-end gap-2">
											<button 
												class="inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-emerald-400 to-green-700 text-white text-sm font-medium hover:from-emerald-400 hover:to-green-700 transition-all duration-200 transform hover:scale-105 shadow-sm hover:shadow-md" 
												(click)="saveHoliday(i)"  
											>
												<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
													<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
												</svg>
												Save
											</button>
											<button 
												class="inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-gray-500 to-gray-700 text-white text-sm font-medium hover:from-gray-600 hover:to-gray-700 transition-all duration-200 transform hover:scale-105 shadow-sm hover:shadow-md" 
												(click)="cancelHolidayEdit()"
											>
												<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
													<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
												</svg>
												Cancel
											</button>
										</div>
									</td>
								</tr>
							</tbody>
						</table>
				</div>
            
				<!-- Modern Add New Holiday Form -->
				<div *ngIf="isAddingNewHoliday && editingHolidayIndex === -1" class="mt-6 p-6 bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-xl">
					<div class="flex items-center gap-3 mb-4">
						<div class="w-8 h-8 bg-gradient-to-br from-purple-100 to-pink-100 rounded-lg flex items-center justify-center">
							<svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
							</svg>
						</div>
						<h4 class="text-lg font-semibold text-gray-900">Add New Holiday</h4>
					</div>
					<div class="grid grid-cols-1 md:grid-cols-3 gap-4">
						<div>
							<label class="block text-sm font-medium text-gray-700 mb-2">Holiday Name</label>
							<input
								type="text"
								[(ngModel)]="editHolidayModel!.name"
								placeholder="Enter holiday name"
								class="w-full px-4 py-3 border rounded-lg text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200"
								[class.border-red-500]="editHolidayModel!.name !== undefined && editHolidayModel!.name.trim().length === 0"
								[class.border-gray-300]="!editHolidayModel!.name || editHolidayModel!.name.trim().length > 0"
								required
							/>
						</div>
						<div>
							<label class="block text-sm font-medium text-gray-700 mb-2">Date</label>
							<input
								type="date"
								[(ngModel)]="editHolidayModel!.date"
								class="w-full px-4 py-3 border rounded-lg text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200"
								[class.border-red-500]="editHolidayModel!.date !== undefined && editHolidayModel!.date.trim().length === 0"
								[class.border-gray-300]="!editHolidayModel!.date || editHolidayModel!.date.trim().length > 0"
								required
							/>
						</div>
						</div>
						<div class="flex items-center pt-6">
							<label class="flex items-center text-sm font-medium text-gray-700 cursor-pointer">
								<input
									type="checkbox"
									[(ngModel)]="editHolidayModel!.isRecurring"
									class="w-4 h-4 mr-3 rounded border-gray-300 text-purple-600 focus:ring-purple-500"
								/>
								<span class="flex items-center gap-2">
									<svg class="w-4 h-4 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
									</svg>
									Recurring Holiday
								</span>
							</label>
						</div>
					</div>
					<div class="flex gap-3 mt-6">
						<button
							class="inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-emerald-500 to-green-600 text-white text-sm font-medium rounded-lg hover:from-emerald-600 hover:to-green-700 transition-all duration-200 transform hover:scale-105 shadow-sm hover:shadow-md"
							(click)="saveNewHoliday()"
							[disabled]="!editHolidayModel?.name?.trim() || !editHolidayModel?.date"
							[class.opacity-50]="!editHolidayModel?.name?.trim() || !editHolidayModel?.date"
							[class.cursor-not-allowed]="!editHolidayModel?.name?.trim() || !editHolidayModel?.date"
						>
							<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
							</svg>
							Save Holiday
						</button>
						<button
							class="inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-gray-500 to-gray-600 text-white text-sm font-medium rounded-lg hover:from-gray-600 hover:to-gray-700 transition-all duration-200 transform hover:scale-105 shadow-sm hover:shadow-md"
							(click)="cancelHolidayEdit()"
						>
							<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
							</svg>
							Cancel
						</button>
					</div>
				</div>
            
				<!-- Pagination for Public Holidays -->
            <div *ngIf="publicHolidays.length > 0 || holidaysTotalCount > 0" class="mt-6 flex items-center justify-between">
              <div class="text-sm text-gray-600">Showing {{ getActualHolidayCount() }} of {{ holidaysTotalCount }} holidays</div>

              <div class="flex items-center gap-3">
                <div class="flex items-center gap-2 bg-white rounded-md p-1 shadow-sm">
                  <button
                    class="flex items-center gap-1 px-3 py-1 rounded font-medium text-sm transition-all duration-200 transform hover:scale-105 bg-gray-100 hover:bg-gray-200"
                    [disabled]="holidaysCurrentPage <= 1"
                    [class.opacity-50]="holidaysCurrentPage <= 1"
                    [class.cursor-not-allowed]="holidaysCurrentPage <= 1"
                    (click)="prevHolidaysPage()"
                  >
                    Previous
                  </button>

                  <div class="text-sm px-2">Page {{ holidaysCurrentPage }}</div>

                  <button
                    class="flex items-center gap-1 px-3 py-1 rounded font-medium text-sm transition-all duration-200 transform hover:scale-105 bg-gray-100 hover:bg-gray-200"
                    [disabled]="holidaysCurrentPage * holidaysPageSize >= holidaysTotalCount"
                    [class.opacity-50]="holidaysCurrentPage * holidaysPageSize >= holidaysTotalCount"
                    [class.cursor-not-allowed]="holidaysCurrentPage * holidaysPageSize >= holidaysTotalCount"
                    (click)="nextHolidaysPage()"
                  >
                    Next
                  </button>
                </div>
              </div>
            </div>
            
            <div *ngIf="publicHolidays.length === 0 && !showImportPreview" class="text-center py-8 text-gray-500">
              No public holidays defined. Click "Add Holiday" to get started.
            </div>
          </div>

          <!-- Calendar View -->
          <div *ngIf="currentView === 'calendar'">
            <app-holiday-calendar 
              [holidays]="publicHolidays"
              (dateClick)="onCalendarDateClick($event)"
              (holidayClick)="onCalendarHolidayClick($event)"
            ></app-holiday-calendar>
          </div>

          <!-- Import Preview Section -->
          <div *ngIf="showImportPreview" class="mt-6 bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl p-6 border border-gray-200 shadow-sm">
            <div class="flex items-center justify-between mb-6">
              <div class="flex items-center gap-3">
                <div class="flex-shrink-0 w-10 h-10 bg-gradient-to-r from-emerald-500 to-cyan-600 rounded-lg flex items-center justify-center">
                  <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                  </svg>
                </div>
                <h4 class="text-xl font-bold bg-gradient-to-r from-gray-800 to-gray-700 bg-clip-text text-transparent">Import Preview</h4>
              </div>
              <div class="flex gap-3">
                <button 
                  class="inline-flex items-center gap-2 px-6 py-3 rounded-lg bg-gradient-to-r from-emerald-500 to-green-600 text-white text-sm font-medium hover:from-emerald-600 hover:to-green-700 transition-all duration-300 transform hover:scale-105 shadow-sm hover:shadow-lg hover:shadow-emerald-200/50 opacity-90 hover:opacity-100 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none"
                  (click)="importValidHolidays()"
                  [disabled]="validImportedHolidaysCount === 0"
                >
                  <svg class="w-4 h-4 transition-transform duration-300 hover:scale-110" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                  </svg>
                  Import Valid ({{ validImportedHolidaysCount }})
                </button>
                <button 
                  class="inline-flex items-center gap-2 px-6 py-3 rounded-lg bg-gradient-to-r from-gray-400 to-gray-500 text-white text-sm font-medium hover:from-gray-500 hover:to-gray-600 transition-all duration-300 transform hover:scale-105 shadow-sm hover:shadow-md opacity-90 hover:opacity-100"
                  (click)="cancelImport()"
                >
                  <svg class="w-4 h-4 transition-transform duration-300 hover:scale-110" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                  </svg>
                  Cancel
                </button>
              </div>
            </div>
            
            <div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
              <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200">
                  <thead class="bg-gradient-to-r from-gray-50 to-gray-100">
                    <tr>
                      <th class="px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider">Status</th>
                      <th class="px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider">Name</th>
                      <th class="px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider">Date</th>
                      <th class="px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider">Recurring</th>
                      <th class="px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider">Errors</th>
                    </tr>
                  </thead>
                  <tbody class="bg-white divide-y divide-gray-100">
                    <tr *ngFor="let holiday of importedHolidays; let i = index" class="hover:bg-gray-50 transition-colors duration-200">
                      <td class="px-6 py-4 text-sm">
                        <span *ngIf="holiday.isValid" class="inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium bg-gradient-to-r from-emerald-100 to-green-100 text-emerald-800 border border-emerald-200">
                          <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                          </svg>
                          Valid
                        </span>
                        <span *ngIf="!holiday.isValid" class="inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium bg-gradient-to-r from-red-100 to-red-100 text-red-800 border border-red-200">
                          <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                          </svg>
                          Invalid
                        </span>
                      </td>
                      <td class="px-6 py-4 text-sm font-medium text-gray-900">{{ holiday.name || '(empty)' }}</td>
                      <td class="px-6 py-4 text-sm text-gray-700">{{ holiday.date || '(empty)' }}</td>
                      <td class="px-6 py-4 text-sm text-gray-700">
                        <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium" 
                              [class]="holiday.recurring === 'Yes' ? 'bg-blue-100 text-blue-800' : 'bg-gray-100 text-gray-800'">
                          {{ holiday.recurring }}
                        </span>
                      </td>
                      <td class="px-6 py-4 text-sm">
                        <div *ngIf="holiday.errors && holiday.errors.length > 0" class="space-y-1">
                          <div *ngFor="let error of holiday.errors" class="inline-flex items-center gap-1 px-2 py-1 rounded-md bg-red-50 text-red-700 text-xs border border-red-200">
                            <svg class="w-3 h-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            {{ error }}
                          </div>
                        </div>
                        <span *ngIf="!holiday.errors || holiday.errors.length === 0" class="text-gray-400 text-xs">No errors</span>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
</div>

<!-- Weekend Configuration Tab -->
<div *ngIf="activeTab === 'weekends'" class="p-6">
	<app-weekend-management></app-weekend-management>
</div>
		</div>
	</div>
</main>

