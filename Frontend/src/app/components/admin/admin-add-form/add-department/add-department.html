<form (ngSubmit)="onSubmit()" class="mt-6">
  <div>
    <label for="name" class="block text-sm font-medium text-gray-700 mb-1">
      Department Name *
    </label>
    <input
      type="text"
      id="name"
      [(ngModel)]="name"
      name="name"
      placeholder="Enter department name..."
      class="w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#20B486] focus:border-transparent"
      [class.border-red-500]="!name && submitted"
    />
    <div *ngIf="!name && submitted" class="mt-1 text-sm text-red-600">
      Department name is required
    </div>
  </div>

  <!-- Description -->
  <div>
    <label
      for="description"
      class="block text-sm font-medium text-gray-700 mb-1"
    >
      Description
    </label>
    <textarea
      id="description"
      [(ngModel)]="description"
      name="description"
      placeholder="Enter department description"
      rows="3"
      class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#20B486] focus:border-transparent"
    ></textarea>
  </div>

  <!-- Loading indicator -->
  <div *ngIf="isSubmitting" class="flex items-center justify-center py-4">
    <div
      class="animate-spin rounded-full h-8 w-8 border-b-2 border-[#20B486]"
    ></div>
    <span class="ml-2 text-gray-600">Processing...</span>
  </div>

  <!-- Success/Error message -->
  <div *ngIf="onSubmitMessage !== '' && !isSubmitting" class="text-center py-4">
    <p class="text-gray-600">{{ onSubmitMessage }}</p>
  </div>

  <!-- Form Actions -->
  <div class="flex items-center justify-end space-x-4 mt-6 pt-4 border-t">
    <button
      type="button"
      (click)="onClose()"
      class="px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 border border-gray-300 rounded-lg hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500"
      [disabled]="isSubmitting"
    >
      Cancel
    </button>

    <button
      type="submit"
      class="px-4 py-2 text-sm font-medium text-white bg-[#20B486] border border-transparent rounded-lg hover:bg-[#1a9c75] focus:outline-none focus:ring-2 focus:ring-[#20B486] disabled:opacity-50 disabled:cursor-not-allowed"
      [disabled]="isSubmitting || (!name && submitted)"
    >
      <span *ngIf="isSubmitting" class="flex items-center">
        <svg
          class="animate-spin -ml-1 mr-2 h-4 w-4 text-white"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
        >
          <circle
            class="opacity-25"
            cx="12"
            cy="12"
            r="10"
            stroke="currentColor"
            stroke-width="4"
          ></circle>
          <path
            class="opacity-75"
            fill="currentColor"
            d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
          ></path>
        </svg>
        Submit
      </span>
      <span *ngIf="!isSubmitting">Submit</span>
    </button>
  </div>
</form>
